{"version":3,"sources":["parenchym/growler/GrowlFlashDirective.js"],"names":[],"mappings":"AAAA;;AAEA,IAAI,eAAe,YAAY,EAAE,SAAS,iBAAiB,QAAQ,OAAO,EAAE,KAAK,IAAI,IAAI,GAAG,IAAI,MAAM,QAAQ,KAAK,EAAE,IAAI,aAAa,MAAM,IAAI,WAAW,aAAa,WAAW,cAAc,OAAO,WAAW,eAAe,MAAM,IAAI,WAAW,YAAY,WAAW,WAAW,MAAM,OAAO,eAAe,QAAQ,WAAW,KAAK,iBAAiB,OAAO,UAAU,aAAa,YAAY,aAAa,EAAE,IAAI,YAAY,iBAAiB,YAAY,WAAW,aAAa,IAAI,aAAa,iBAAiB,aAAa,cAAc,OAAO;;AAEhiB,OAAO,eAAe,SAAS,cAAc;IACzC,OAAO;;;AAGX,SAAS,gBAAgB,UAAU,aAAa,EAAE,IAAI,EAAE,oBAAoB,cAAc,EAAE,MAAM,IAAI,UAAU;;;;;;;;;;;;;;;;;;;AAmBhH,IAVM,sBAAmB,YAAA;IACrB,SADE,oBACU,SAAS;QAWjB,gBAAgB,MAZlB;;QAEE,KAAK,WAAW;QAChB,KAAK,WAAW;QAChB,KAAK,QAAQ;QACb,KAAK,WAAW;;;;;IAiBpB,aAtBE,qBAAmB,CAAA;QAuBjB,KAAK;QACL,OAAO,SAAS,QAfZ,MAAM,OAAO;YACjB,IAAI,WAAW,KAAK,MAAM,MAAM;YAChC,IAAI,UAAU;gBAgBN,IAAI,4BAA4B;gBAChC,IAAI,oBAAoB;gBACxB,IAAI,iBAAiB;;gBAErB,IAAI;oBAnBR,KAAA,IAAA,YAAc,SAAQ,OAAA,aAAA,OAAA,EAAA,4BAAA,CAAA,QAAA,UAAA,QAAA,OAAA,4BAAA,MAAE;wBAqBZ,IArBH,IAAC,MAAA;;wBACN,KAAK,SAAS,MAAM;;kBAwBlB,OAAO,KAAK;oBACV,oBAAoB;oBACpB,iBAAiB;0BACX;oBACN,IAAI;wBACA,IAAI,CAAC,6BAA6B,UAAU,QAAQ;4BAChD,UAAU;;8BAER;wBACN,IAAI,mBAAmB;4BACnB,MAAM;;;;;;QAM1B,CAAC;QACD,KAAK;QACL,OAAO,SAAS,iBArCI,SAAS;YAC7B,oBAAoB,WAAW,IAAI,oBAAoB;YACvD,OAAO,oBAAoB;;;;IAyC/B,OA7DE;;;AAwBN,oBAAoB,iBAAiB,UAAU,CAAC;;AA0ChD,QAAQ,UAvCO,oBAAmB","file":"parenchym/growler/GrowlFlashDirective.js","sourcesContent":["/**\n * Directive growl-flash\n *\n * Growls flash messages the server had included in the page on first load.\n *\n * The directive is an HTML comment and its expression a JSON list of hashes,\n * each hash defines a message: ``{title: \"my title\", text: \"my text\",\n * kind: \"error\"}``.\n *\n * Allowed kinds are \"error\", \"success\", \"info\", \"warning\".\n *\n * Usage:\n *\n *     <!-- directive: pym-growl-flash ${mq_json|n} -->\n *\n */\n\nclass GrowlFlashDirective {\n    constructor(growler) {\n        this.restrict = 'M';\n        this.template = '';\n        this.scope = {};\n        this._growler = growler;\n    }\n\n    // Must use compile(), because link() does not have access to 'this'.\n    compile(elem, attrs) {\n        let messages = JSON.parse(attrs.pymGrowlFlash);\n        if (messages) {\n            for (let m of messages) {\n                this._growler.growl(m);\n            }\n        }\n    }\n\n    static directiveFactory(growler) {\n        GrowlFlashDirective.instance = new GrowlFlashDirective(growler);\n        return GrowlFlashDirective.instance;\n    }\n}\n\nGrowlFlashDirective.directiveFactory.$inject = ['pym.growler.service'];\n\n\nexport default GrowlFlashDirective;\n"],"sourceRoot":"/source/"}